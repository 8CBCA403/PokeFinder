version: 1.0.0.{build}

os: unstable

environment:
    QTDIR: C:\Qt\5.9.1\mingw53_32
    BOOST_ROOT: C:\Libraries\boost_1_64_0
   
configuration:
    - Release

install:
    - set PATH=%QTDIR%\bin;C:\Qt\Tools\mingw530_32\bin;%PATH%
  
build_script:
    - qmake PokeFinder.pro
    - mingw32-make
    
after_build:
    - 7z a PokeFinder.zip PokeFinder.exe
    - 7z a PokeFinder.zip C:\QT\5.9.1\mingw53_32\bin\libwinpthread-1.dll
    - 7z a PokeFinder.zip C:\QT\5.9.1\mingw53_32\bin\libstdc++-6.dll
    - 7z a PokeFinder.zip C:\QT\5.9.1\mingw53_32\bin\libgcc_s_dw2-1.dll
    - 7z a PokeFinder.zip C:\QT\5.9.1\mingw53_32\bin\Qt5Core.dll
    - 7z a PokeFinder.zip C:\QT\5.9.1\mingw53_32\bin\Qt5Gui.dll
    - 7z a PokeFinder.zip C:\QT\5.9.1\mingw53_32\bin\Qt5Widgets.dll
  
artifacts:
    - path: PokeFinder.zip